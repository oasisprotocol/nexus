API: Return CORS headers on request timeouts

Moved `CorsMiddleware` outside of `TimeoutHandler` to ensure CORS headers are
included in responses even when requests time out.
